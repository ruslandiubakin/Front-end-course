// Якірні посилання, для плавного скролу по блокам 
const anchorLinks = document.querySelectorAll('.anchor-link');

anchorLinks.forEach(link => {
    link.addEventListener('click', event => {
      
    event.preventDefault();
  
      const targetId = link.getAttribute('href').slice(1),
            targetElement = document.getElementById(targetId);
  
      targetElement.scrollIntoView({ behavior: 'smooth' });
    });
});

// Кнопка, яка відображатиме додатковий текст
const moreBtn = document.querySelectorAll('.element-home__btn');

moreBtn.forEach(button => {
  button.addEventListener('click', () => {
    const block = button.closest('.element-home__content');
    const text = block.querySelector('.hidden-text');
    
    text.classList.toggle('active');
  });
});


const usernameLink = document.getElementById('usernameLink');


// Файл з отриманням даних
function fetchTours() {
  fetch('/tours')
    .then((response) => response.json())
    .then((data) => {
      // Поки виводитимо дані в консоль, в подальшому реалізуємо її виведення в таблицю
      console.log('Отримані дані про гірські тури:', data);
    })
    .catch((error) => {
      console.log('Помилка при отриманні даних:', error);
    });
}

// Виклик функції для отримання даних

fetchTours();

document.addEventListener('DOMContentLoaded', () => {
  const enterButton = document.querySelector('#enter');
  const messageElement = document.querySelector('.auth__message');
 
  enterButton.addEventListener('click', async () => {
    const username = document.querySelector('#log').value;
    const password = document.querySelector('#psw').value;

    const response = await fetch('/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ username, password })
    });

    const data = await response.json();

    if (data.success) {
      window.location.href = '/';
    } else {
      // Невірний логін або пароль, відображення повідомлення про помилку
      messageElement.textContent = data.message;
    }
  });
});



